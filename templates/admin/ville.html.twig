{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} - Ville (admin){% endblock %}

{% block body %}

    <div class="jumbotron bg-warning text-center">
        <h1>GÃ©rer les villes</h1>
    </div>

    <section class="mb-4" style=" display: flex; justify-content:space-between;">
        <div>
            <p>&nbsp;</p>
        </div>
        <div class="w-50" style="
            border-radius: 30px;
            background: #AAAAAA;
            ">
            <form action ='{{ path('admin_ville') }}' method="post">
                <fieldset>
                    <legend class="ml-1">Filtrer les villes</legend>
                    <div class="input-group mb-2">
                        <span class="input-group-text" id="ville">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
</svg>
                        </span>
                        <input aria-label="Le nom de la ville contient :" aria-describedby="search" class="form-control" type="search" name="ville" id="ville" placeholder="Le nom de la ville contient :"><br>
                    </div>
                    <button type="submit" class="btn btn-primary">Recherche</button>
                </fieldset>
            </form>
        </div>
        <div>
            <p>&nbsp;</p>
        </div>
    </section>

    <section class="mb-4" style=" display: flex; justify-content:space-between;">
        <div>
            <p>&nbsp;</p>
        </div>
        <div class="mb-3 pr-5 pl-5 pt-5 pb-5 " style="font-size:1em;
        border-radius: 30px;
        box-shadow: 10px 10px 20px;
        background: #AAAAAA;

            " >
            <table class="text-center" >
                <thead>
                    <tr>
                        <th>Ville</th>
                        <th>Code Postal</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                {% for ville in villes %}
                    <tr>
                            <td>{{ ville.nom | upper}}</td>
                            <td>{{ ville.codePostal }}</td>
                            <td><a href="{{ path('admin_suprimmerVille', {'id': ville.id}) }}"><button  class="btn btn-outline-danger" onclick="supprimerVille()">Supprimer</button></a></td>
                    </tr>
                    {% endfor %}
                </tbody>
                <tfoot>
                    <tr>
                        <form action="{{ path('admin_ville') }}" method="post">
                            <td><input type="text" class="form-control" id="nom" name="nom"></td>
                            <td><input type="number" class="form-control" id="codePostal" name="codePostal"></td>
                            <td><button type="submit" class="btn btn-primary" >Ajouter</button></td>
                            <input type="hidden" name="_csrf_token"
                                   value="{{ csrf_token('authenticate') }}">
                        </form>
                    </tr>
                </tfoot>
            </table>
        </div>
        <div>
            <p>&nbsp;</p>
        </div>
    </section>

{% endblock %}



